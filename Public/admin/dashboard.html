<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TalentSync Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        .section { display: none; }
        .section.active { display: block; }
        .nav-item.active { background-color: #1f2937; border-left: 4px solid #3b82f6; }
        .stats-card { transition: all 0.3s ease; }
        .stats-card:hover { transform: translateY(-4px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .metric-trend { font-size: 0.8rem; }
        .trend-up { color: #10b981; }
        .trend-down { color: #ef4444; }
        .sidebar-nav { max-height: calc(100vh - 100px); overflow-y: auto; }
        .data-table { font-size: 0.9rem; }
        .badge { padding: 0.25rem 0.5rem; border-radius: 0.375rem; font-size: 0.75rem; font-weight: 500; }
        .badge-success { background-color: #d1fae5; color: #065f46; }
        .badge-warning { background-color: #fef3c7; color: #92400e; }
        .badge-danger { background-color: #fee2e2; color: #991b1b; }
        .badge-info { background-color: #dbeafe; color: #1e40af; }
    </style>
</head>
<body class="bg-gray-50">
    <div class="min-h-screen flex">
        <!-- Enhanced Sidebar -->
        <div class="bg-gray-900 text-white w-72 shadow-xl">
            <div class="p-6 border-b border-gray-700">
                <h1 class="text-2xl font-bold text-white">TalentSync Admin</h1>
                <p class="text-gray-400 text-sm mt-1">Complete Site Management</p>
            </div>
            
            <nav class="sidebar-nav p-4 space-y-1">
                <a href="#" onclick="showSection('overview')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors bg-gray-800">
                    <span class="w-5 h-5 mr-3">üìä</span>
                    Dashboard Overview
                </a>
                <a href="#" onclick="showSection('analytics')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üìà</span>
                    Advanced Analytics
                </a>
                <a href="#" onclick="showSection('users')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üë•</span>
                    User Management
                </a>
                <a href="#" onclick="showSection('employers')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üè¢</span>
                    Employer Management
                </a>
                <a href="#" onclick="showSection('jobs')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üíº</span>
                    Job Listings
                </a>
                <a href="#" onclick="showSection('applications')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üìÑ</span>
                    Applications
                </a>
                <a href="#" onclick="showSection('resumes')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">ÔøΩ</span>
                    Resume Management
                </a>
                <a href="#" onclick="showSection('traffic')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üåê</span>
                    Traffic & Views
                </a>
                <a href="#" onclick="showSection('content')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üì∞</span>
                    Content Management
                </a>
                <a href="#" onclick="showSection('system')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">‚öôÔ∏è</span>
                    System Status
                </a>
                <a href="#" onclick="showSection('security')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">ÔøΩ</span>
                    Security & Logs
                </a>
            </nav>
            
            <!-- Additional Navigation Items -->
            <div class="mt-4 pt-4 border-t border-gray-700">
                <a href="#" onclick="showSection('billing')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üí∞</span>
                    Billing & Revenue
                </a>
                <a href="#" onclick="showSection('jobmanual')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">‚ûï</span>
                    Add Jobs
                </a>
                <a href="#" onclick="showSection('pricing')" class="nav-item flex items-center px-4 py-3 text-sm font-medium rounded-lg hover:bg-gray-800 transition-colors">
                    <span class="w-5 h-5 mr-3">üí≥</span>
                    Pricing & Plans
                </a>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="flex-1 flex flex-col min-h-screen">
            <!-- Top Navigation Bar -->
            <header class="bg-white shadow-lg border-b border-gray-200">
                <div class="flex justify-between items-center px-8 py-4">
                    <div>
                        <h1 id="pageTitle" class="text-2xl font-bold text-gray-900">Dashboard Overview</h1>
                        <p id="pageSubtitle" class="text-sm text-gray-600 mt-1">Complete analytics and management overview</p>
                    </div>
                    <div class="flex items-center space-x-4">
                        <div class="text-right">
                            <p class="text-sm text-gray-600">Last updated</p>
                            <p id="lastUpdated" class="text-xs text-gray-500">Loading...</p>
                        </div>
                        <div class="flex space-x-2">
                            <button onclick="refreshAllData()" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm">
                                Refresh Data
                            </button>
                            <a href="/" class="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition text-sm">
                                View Site
                            </a>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Main Content Area -->
            <main class="flex-1 overflow-auto bg-gray-50 p-8">
                
                <!-- Dashboard Overview Section -->
                <div id="overview-section" class="section active space-y-8">
                    <!-- Real-time Stats Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <div class="bg-white p-6 rounded-xl shadow-sm stats-card border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Total Users</p>
                                    <p id="totalUsers" class="text-3xl font-bold text-gray-900">0</p>
                                    <p class="text-xs text-gray-500 mt-1">+12 this week</p>
                                </div>
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm stats-card border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Active Jobs</p>
                                    <p id="activeJobs" class="text-3xl font-bold text-gray-900">0</p>
                                    <p class="text-xs text-gray-500 mt-1">+5 today</p>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2h8z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm stats-card border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Applications</p>
                                    <p id="totalApplications" class="text-3xl font-bold text-gray-900">0</p>
                                    <p class="text-xs text-gray-500 mt-1">+23 today</p>
                                </div>
                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm stats-card border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Page Views</p>
                                    <p id="pageViews" class="text-3xl font-bold text-gray-900">0</p>
                                    <p class="text-xs text-gray-500 mt-1">+15% vs last week</p>
                                </div>
                                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity & Quick Stats -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Recent Activity -->
                        <div class="lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-100">
                            <div class="p-6 border-b border-gray-100">
                                <h3 class="text-lg font-semibold text-gray-900">Recent Activity</h3>
                                <p class="text-sm text-gray-600">Latest actions across your platform</p>
                            </div>
                            <div class="p-6">
                                <div id="recentActivity" class="space-y-4">
                                    <div class="flex items-start space-x-4">
                                        <div class="w-2 h-2 bg-green-500 rounded-full mt-2"></div>
                                        <div class="flex-1">
                                            <p class="text-sm text-gray-900">New job posted: "Senior Developer"</p>
                                            <p class="text-xs text-gray-500">2 minutes ago</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-4">
                                        <div class="w-2 h-2 bg-blue-500 rounded-full mt-2"></div>
                                        <div class="flex-1">
                                            <p class="text-sm text-gray-900">User "john.doe@example.com" registered</p>
                                            <p class="text-xs text-gray-500">5 minutes ago</p>
                                        </div>
                                    </div>
                                    <div class="flex items-start space-x-4">
                                        <div class="w-2 h-2 bg-purple-500 rounded-full mt-2"></div>
                                        <div class="flex-1">
                                            <p class="text-sm text-gray-900">Application submitted for "Marketing Manager"</p>
                                            <p class="text-xs text-gray-500">8 minutes ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Quick Stats -->
                        <div class="space-y-6">
                            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">Quick Stats</h3>
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Active Employers</span>
                                        <span class="font-semibold text-gray-900">24</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Pending Applications</span>
                                        <span class="font-semibold text-gray-900">156</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Resumes Uploaded</span>
                                        <span class="font-semibold text-gray-900">89</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Featured Jobs</span>
                                        <span class="font-semibold text-gray-900">12</span>
                                    </div>
                                </div>
                            </div>

                            <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">System Health</h3>
                                <div class="space-y-3">
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Server Status</span>
                                        <span class="badge badge-success">Online</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Database</span>
                                        <span class="badge badge-success">Connected</span>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-600">Email Service</span>
                                        <span class="badge badge-success">Active</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Advanced Analytics Section -->
                <div id="analytics-section" class="section space-y-8">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">User Registration Trends</h3>
                            <canvas id="userChart" width="400" height="200"></canvas>
                        </div>
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Job Application Trends</h3>
                            <canvas id="applicationChart" width="400" height="200"></canvas>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Traffic Sources</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Direct</span>
                                    <span class="font-semibold">45%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Google Search</span>
                                    <span class="font-semibold">32%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Social Media</span>
                                    <span class="font-semibold">18%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Referrals</span>
                                    <span class="font-semibold">5%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Popular Job Categories</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Technology</span>
                                    <span class="font-semibold">156 jobs</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Marketing</span>
                                    <span class="font-semibold">89 jobs</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Sales</span>
                                    <span class="font-semibold">67 jobs</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Finance</span>
                                    <span class="font-semibold">45 jobs</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Performance Metrics</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Avg. Session Duration</span>
                                    <span class="font-semibold">4m 32s</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Bounce Rate</span>
                                    <span class="font-semibold">23.4%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Page Load Time</span>
                                    <span class="font-semibold">1.2s</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Conversion Rate</span>
                                    <span class="font-semibold">12.8%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- User Management Section -->
                <div id="users-section" class="section space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                            <div>
                                <h2 class="text-xl font-semibold text-gray-900">User Management</h2>
                                <p class="text-sm text-gray-600">Manage all registered users and their activities</p>
                            </div>
                            <div class="flex space-x-2">
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm">Export Users</button>
                                <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">Add User</button>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="mb-4 flex space-x-4">
                                <input type="text" placeholder="Search users..." class="flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <select class="px-4 py-2 border border-gray-300 rounded-lg">
                                    <option>All Users</option>
                                    <option>Active</option>
                                    <option>Inactive</option>
                                    <option>Suspended</option>
                                </select>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="min-w-full data-table">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">User</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Email</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Type</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Last Login</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="usersTable" class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td colspan="6" class="px-6 py-8 text-center text-gray-500">Loading users...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Employer Management Section -->
                <div id="employers-section" class="section space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                            <div>
                                <h2 class="text-xl font-semibold text-gray-900">Employer Management</h2>
                                <p class="text-sm text-gray-600">Manage companies and employer accounts</p>
                            </div>
                            <div class="flex space-x-2">
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm">Export Employers</button>
                                <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">Verify Company</button>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="overflow-x-auto">
                                <table class="min-w-full data-table">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Company</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Contact</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Jobs Posted</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Joined</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="employersTable" class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td colspan="6" class="px-6 py-8 text-center text-gray-500">Loading employers...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Job Management Section -->
                <div id="jobs-section" class="section space-y-6">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Active Jobs</p>
                            <p class="text-2xl font-bold text-green-600">234</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Pending Review</p>
                            <p class="text-2xl font-bold text-yellow-600">12</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Expired</p>
                            <p class="text-2xl font-bold text-red-600">45</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Draft</p>
                            <p class="text-2xl font-bold text-gray-600">8</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                            <div>
                                <h2 class="text-xl font-semibold text-gray-900">Job Listings</h2>
                                <p class="text-sm text-gray-600">Manage all job postings and their status</p>
                            </div>
                            <div class="flex space-x-2">
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm">Bulk Actions</button>
                                <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">Featured Jobs</button>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="mb-4 flex space-x-4">
                                <input type="text" placeholder="Search jobs..." class="flex-1 px-4 py-2 border border-gray-300 rounded-lg">
                                <select class="px-4 py-2 border border-gray-300 rounded-lg">
                                    <option>All Status</option>
                                    <option>Active</option>
                                    <option>Pending</option>
                                    <option>Expired</option>
                                </select>
                                <select class="px-4 py-2 border border-gray-300 rounded-lg">
                                    <option>All Categories</option>
                                    <option>Technology</option>
                                    <option>Marketing</option>
                                    <option>Sales</option>
                                </select>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="min-w-full data-table">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Job Title</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Company</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Category</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Applications</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Posted</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="jobsTable" class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td colspan="7" class="px-6 py-8 text-center text-gray-500">Loading jobs...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Applications Management Section -->
                <div id="applications-section" class="section space-y-6">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Total Applications</p>
                            <p class="text-2xl font-bold text-blue-600">1,234</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Today</p>
                            <p class="text-2xl font-bold text-green-600">23</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Pending Review</p>
                            <p class="text-2xl font-bold text-yellow-600">156</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Processed</p>
                            <p class="text-2xl font-bold text-purple-600">1,055</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100">
                            <h2 class="text-xl font-semibold text-gray-900">Application Management</h2>
                            <p class="text-sm text-gray-600">Track and manage all job applications</p>
                        </div>
                        <div class="p-6">
                            <div class="overflow-x-auto">
                                <table class="min-w-full data-table">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Applicant</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Job Title</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Company</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Applied</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Resume</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="applicationsTable" class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td colspan="7" class="px-6 py-8 text-center text-gray-500">Loading applications...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resume Management Section -->
                <div id="resumes-section" class="section space-y-6">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Total Resumes</p>
                            <p class="text-2xl font-bold text-blue-600">567</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">This Week</p>
                            <p class="text-2xl font-bold text-green-600">34</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Public Profiles</p>
                            <p class="text-2xl font-bold text-purple-600">423</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Storage Used</p>
                            <p class="text-2xl font-bold text-orange-600">2.3GB</p>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100">
                            <h2 class="text-xl font-semibold text-gray-900">Resume Database</h2>
                            <p class="text-sm text-gray-600">Manage uploaded resumes and candidate profiles</p>
                        </div>
                        <div class="p-6">
                            <div class="mb-4 flex space-x-4">
                                <input type="text" placeholder="Search by name, skills, or experience..." class="flex-1 px-4 py-2 border border-gray-300 rounded-lg">
                                <select class="px-4 py-2 border border-gray-300 rounded-lg">
                                    <option>All Experience Levels</option>
                                    <option>Entry Level</option>
                                    <option>Mid Level</option>
                                    <option>Senior Level</option>
                                </select>
                            </div>
                            <div class="overflow-x-auto">
                                <table class="min-w-full data-table">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Candidate</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Skills</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Experience</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Location</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Uploaded</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">File Size</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="resumesTable" class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td colspan="7" class="px-6 py-8 text-center text-gray-500">Loading resumes...</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Traffic & Views Section -->
                <div id="traffic-section" class="section space-y-6">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Total Page Views</p>
                            <p class="text-2xl font-bold text-blue-600">45,678</p>
                            <p class="text-xs text-green-600">+12% from last week</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Unique Visitors</p>
                            <p class="text-2xl font-bold text-green-600">12,345</p>
                            <p class="text-xs text-green-600">+8% from last week</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Avg Session Duration</p>
                            <p class="text-2xl font-bold text-purple-600">4m 32s</p>
                            <p class="text-xs text-red-600">-3% from last week</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <p class="text-sm text-gray-600">Bounce Rate</p>
                            <p class="text-2xl font-bold text-orange-600">23.4%</p>
                            <p class="text-xs text-green-600">-5% from last week</p>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Most Viewed Pages</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">/jobs</span>
                                    <span class="font-semibold">12,456 views</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">/</span>
                                    <span class="font-semibold">8,923 views</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">/employers</span>
                                    <span class="font-semibold">5,234 views</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">/register</span>
                                    <span class="font-semibold">3,456 views</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Real-time Visitors</h3>
                            <div class="text-center">
                                <p class="text-4xl font-bold text-green-600">24</p>
                                <p class="text-sm text-gray-600">Active users right now</p>
                            </div>
                            <div class="mt-4 space-y-2">
                                <div class="flex justify-between text-sm">
                                    <span>Desktop</span>
                                    <span>16 users</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span>Mobile</span>
                                    <span>8 users</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Content Management Section -->
                <div id="content-section" class="section space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100">
                            <h2 class="text-xl font-semibold text-gray-900">Content Management</h2>
                            <p class="text-sm text-gray-600">Manage website content, pages, and media</p>
                        </div>
                        <div class="p-6">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h3 class="font-semibold text-gray-900 mb-2">Pages</h3>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span>Home Page</span>
                                            <button class="text-blue-600 hover:text-blue-800">Edit</button>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>About Us</span>
                                            <button class="text-blue-600 hover:text-blue-800">Edit</button>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Privacy Policy</span>
                                            <button class="text-blue-600 hover:text-blue-800">Edit</button>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Terms of Service</span>
                                            <button class="text-blue-600 hover:text-blue-800">Edit</button>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h3 class="font-semibold text-gray-900 mb-2">Blog Posts</h3>
                                    <div class="space-y-2 text-sm">
                                        <div class="flex justify-between">
                                            <span>Resume Writing Tips</span>
                                            <button class="text-blue-600 hover:text-blue-800">Edit</button>
                                        </div>
                                        <div class="flex justify-between">
                                            <span>Interview Preparation</span>
                                            <button class="text-blue-600 hover:text-blue-800">Edit</button>
                                        </div>
                                        <button class="w-full bg-blue-600 text-white px-4 py-2 rounded mt-2 hover:bg-blue-700">Add New Post</button>
                                    </div>
                                </div>
                                
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h3 class="font-semibold text-gray-900 mb-2">Media Library</h3>
                                    <div class="space-y-2 text-sm">
                                        <p>Total Files: 234</p>
                                        <p>Storage Used: 1.2 GB</p>
                                        <p>Images: 198</p>
                                        <p>Documents: 36</p>
                                        <button class="w-full bg-green-600 text-white px-4 py-2 rounded mt-2 hover:bg-green-700">Upload Files</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- System Status Section -->
                <div id="system-section" class="section space-y-6">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Server Status</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Server Uptime</span>
                                    <span class="badge badge-success">99.9%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">CPU Usage</span>
                                    <span class="font-semibold">23%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Memory Usage</span>
                                    <span class="font-semibold">45%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Disk Space</span>
                                    <span class="font-semibold">67% Used</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Response Time</span>
                                    <span class="font-semibold">120ms</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Database Status</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Connection Status</span>
                                    <span class="badge badge-success">Connected</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Database Size</span>
                                    <span class="font-semibold">245 MB</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Total Tables</span>
                                    <span class="font-semibold">12</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Total Records</span>
                                    <span class="font-semibold">15,678</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Last Backup</span>
                                    <span class="font-semibold">2 hours ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Application Performance</h3>
                        <div class="grid grid-cols-1 lg:grid-cols-4 gap-4">
                            <div class="text-center">
                                <p class="text-2xl font-bold text-green-600">1.2s</p>
                                <p class="text-sm text-gray-600">Avg Load Time</p>
                            </div>
                            <div class="text-center">
                                <p class="text-2xl font-bold text-blue-600">99.9%</p>
                                <p class="text-sm text-gray-600">Uptime</p>
                            </div>
                            <div class="text-center">
                                <p class="text-2xl font-bold text-purple-600">456</p>
                                <p class="text-sm text-gray-600">Requests/min</p>
                            </div>
                            <div class="text-center">
                                <p class="text-2xl font-bold text-orange-600">0</p>
                                <p class="text-sm text-gray-600">Errors Today</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Security & Logs Section -->
                <div id="security-section" class="section space-y-6">
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Security Status</h3>
                            <div class="space-y-4">
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">SSL Certificate</span>
                                    <span class="badge badge-success">Valid</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Firewall</span>
                                    <span class="badge badge-success">Active</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">DDoS Protection</span>
                                    <span class="badge badge-success">Enabled</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Last Security Scan</span>
                                    <span class="font-semibold">1 day ago</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-sm text-gray-600">Threats Blocked Today</span>
                                    <span class="font-semibold">12</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Login Activity</h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center text-sm">
                                    <span>Admin login from IP: 192.168.1.1</span>
                                    <span class="text-gray-500">2m ago</span>
                                </div>
                                <div class="flex justify-between items-center text-sm">
                                    <span>Failed login attempt</span>
                                    <span class="text-gray-500">15m ago</span>
                                </div>
                                <div class="flex justify-between items-center text-sm">
                                    <span>User registration: john@example.com</span>
                                    <span class="text-gray-500">1h ago</span>
                                </div>
                                <div class="flex justify-between items-center text-sm">
                                    <span>Password reset request</span>
                                    <span class="text-gray-500">2h ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100">
                            <h3 class="text-lg font-semibold text-gray-900">System Logs</h3>
                            <p class="text-sm text-gray-600">Recent system events and errors</p>
                        </div>
                        <div class="p-6">
                            <div class="overflow-x-auto">
                                <table class="min-w-full data-table">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Timestamp</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Level</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Message</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">IP Address</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">User</th>
                                        </tr>
                                    </thead>
                                    <tbody class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 text-sm text-gray-900">2025-08-14 10:30:15</td>
                                            <td class="px-6 py-4"><span class="badge badge-info">INFO</span></td>
                                            <td class="px-6 py-4 text-sm text-gray-900">User login successful</td>
                                            <td class="px-6 py-4 text-sm text-gray-500">192.168.1.1</td>
                                            <td class="px-6 py-4 text-sm text-gray-500">admin</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 text-sm text-gray-900">2025-08-14 10:25:32</td>
                                            <td class="px-6 py-4"><span class="badge badge-warning">WARN</span></td>
                                            <td class="px-6 py-4 text-sm text-gray-900">Failed login attempt</td>
                                            <td class="px-6 py-4 text-sm text-gray-500">203.45.67.89</td>
                                            <td class="px-6 py-4 text-sm text-gray-500">-</td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 text-sm text-gray-900">2025-08-14 10:20:45</td>
                                            <td class="px-6 py-4"><span class="badge badge-success">SUCCESS</span></td>
                                            <td class="px-6 py-4 text-sm text-gray-900">Database backup completed</td>
                                            <td class="px-6 py-4 text-sm text-gray-500">System</td>
                                            <td class="px-6 py-4 text-sm text-gray-500">-</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Billing & Revenue Section -->
                <div id="billing-section" class="section space-y-6">
                    <!-- Revenue Overview -->
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6">
                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Total Revenue</p>
                                    <p class="text-3xl font-bold text-green-600">$12,456</p>
                                    <p class="text-xs text-green-600">+18% this month</p>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">This Month</p>
                                    <p class="text-3xl font-bold text-blue-600">$3,890</p>
                                    <p class="text-xs text-blue-600">67 payments</p>
                                </div>
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Pending Payments</p>
                                    <p class="text-3xl font-bold text-yellow-600">$1,240</p>
                                    <p class="text-xs text-yellow-600">8 invoices</p>
                                </div>
                                <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-yellow-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Active Subscriptions</p>
                                    <p class="text-3xl font-bold text-purple-600">89</p>
                                    <p class="text-xs text-purple-600">Premium employers</p>
                                </div>
                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <svg class="w-6 h-6 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Revenue Chart and Recent Transactions -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Revenue Trends</h3>
                            <canvas id="revenueChart" width="400" height="200"></canvas>
                        </div>
                        
                        <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                            <div class="p-6 border-b border-gray-100">
                                <h3 class="text-lg font-semibold text-gray-900">Recent Transactions</h3>
                            </div>
                            <div class="p-6">
                                <div class="space-y-4">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">TechCorp Inc. - Premium Plan</p>
                                            <p class="text-xs text-gray-500">Invoice #INV-001234</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm font-semibold text-green-600">+$299</p>
                                            <p class="text-xs text-gray-500">2 hours ago</p>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">StartupXYZ - Basic Plan</p>
                                            <p class="text-xs text-gray-500">Invoice #INV-001233</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm font-semibold text-green-600">+$99</p>
                                            <p class="text-xs text-gray-500">5 hours ago</p>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <p class="text-sm font-medium text-gray-900">Global Solutions - Featured Job</p>
                                            <p class="text-xs text-gray-500">Invoice #INV-001232</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-sm font-semibold text-green-600">+$49</p>
                                            <p class="text-xs text-gray-500">1 day ago</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Billing Management Table -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                            <div>
                                <h3 class="text-lg font-semibold text-gray-900">Billing Management</h3>
                                <p class="text-sm text-gray-600">Manage employer payments and invoices</p>
                            </div>
                            <div class="flex space-x-2">
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm">Export Report</button>
                                <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 text-sm">Send Invoice</button>
                            </div>
                        </div>
                        <div class="p-6">
                            <div class="overflow-x-auto">
                                <table class="min-w-full data-table">
                                    <thead class="bg-gray-50">
                                        <tr>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Invoice</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Company</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Plan</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Amount</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Date</th>
                                            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody id="billingTable" class="bg-white divide-y divide-gray-200">
                                        <tr>
                                            <td class="px-6 py-4 text-sm text-gray-900">#INV-001234</td>
                                            <td class="px-6 py-4 text-sm text-gray-900">TechCorp Inc.</td>
                                            <td class="px-6 py-4 text-sm text-gray-900">Premium Plan</td>
                                            <td class="px-6 py-4 text-sm font-semibold text-gray-900">$299.00</td>
                                            <td class="px-6 py-4"><span class="badge badge-success">Paid</span></td>
                                            <td class="px-6 py-4 text-sm text-gray-500">Aug 14, 2025</td>
                                            <td class="px-6 py-4 text-sm">
                                                <button class="text-blue-600 hover:text-blue-800 mr-2">View</button>
                                                <button class="text-green-600 hover:text-green-800">Download</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td class="px-6 py-4 text-sm text-gray-900">#INV-001233</td>
                                            <td class="px-6 py-4 text-sm text-gray-900">StartupXYZ</td>
                                            <td class="px-6 py-4 text-sm text-gray-900">Basic Plan</td>
                                            <td class="px-6 py-4 text-sm font-semibold text-gray-900">$99.00</td>
                                            <td class="px-6 py-4"><span class="badge badge-warning">Pending</span></td>
                                            <td class="px-6 py-4 text-sm text-gray-500">Aug 13, 2025</td>
                                            <td class="px-6 py-4 text-sm">
                                                <button class="text-blue-600 hover:text-blue-800 mr-2">View</button>
                                                <button class="text-red-600 hover:text-red-800">Remind</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Manual Job Addition Section -->
                <div id="jobmanual-section" class="section space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100">
                            <h2 class="text-xl font-semibold text-gray-900">Add Job Manually</h2>
                            <p class="text-sm text-gray-600">Create job postings manually or enable automatic job import</p>
                        </div>
                        <div class="p-6">
                            <form id="manualJobForm" class="space-y-6">
                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Job Title *</label>
                                        <input type="text" id="jobTitle" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., Senior Software Developer" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Company Name *</label>
                                        <input type="text" id="companyName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., TechCorp Inc." required>
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Location *</label>
                                        <input type="text" id="jobLocation" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., New York, NY" required>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Job Type *</label>
                                        <select id="jobType" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                            <option value="">Select Type</option>
                                            <option value="full-time">Full-time</option>
                                            <option value="part-time">Part-time</option>
                                            <option value="contract">Contract</option>
                                            <option value="internship">Internship</option>
                                            <option value="remote">Remote</option>
                                        </select>
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Category *</label>
                                        <select id="jobCategory" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" required>
                                            <option value="">Select Category</option>
                                            <option value="technology">Technology</option>
                                            <option value="marketing">Marketing</option>
                                            <option value="sales">Sales</option>
                                            <option value="finance">Finance</option>
                                            <option value="healthcare">Healthcare</option>
                                            <option value="education">Education</option>
                                            <option value="other">Other</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Salary Range</label>
                                        <input type="text" id="salaryRange" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., $80,000 - $120,000">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Experience Level</label>
                                        <select id="experienceLevel" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                            <option value="">Select Level</option>
                                            <option value="entry">Entry Level</option>
                                            <option value="mid">Mid Level</option>
                                            <option value="senior">Senior Level</option>
                                            <option value="executive">Executive</option>
                                        </select>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Job Description *</label>
                                    <textarea id="jobDescription" rows="6" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Detailed job description, responsibilities, and requirements..." required></textarea>
                                </div>

                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Required Skills</label>
                                    <input type="text" id="requiredSkills" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="e.g., JavaScript, React, Node.js (comma separated)">
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Application Email</label>
                                        <input type="email" id="applicationEmail" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="hr@company.com">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-medium text-gray-700 mb-2">Application URL</label>
                                        <input type="url" id="applicationUrl" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="https://company.com/apply">
                                    </div>
                                </div>

                                <div class="flex items-center space-x-4">
                                    <label class="flex items-center">
                                        <input type="checkbox" id="featuredJob" class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                        <span class="ml-2 text-sm text-gray-700">Featured Job (+$49)</span>
                                    </label>
                                    <label class="flex items-center">
                                        <input type="checkbox" id="urgentJob" class="rounded border-gray-300 text-red-600 focus:ring-red-500">
                                        <span class="ml-2 text-sm text-gray-700">Urgent Hiring (+$29)</span>
                                    </label>
                                </div>

                                <div class="flex space-x-4">
                                    <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 font-medium">
                                        Publish Job
                                    </button>
                                    <button type="button" class="bg-gray-600 text-white px-6 py-3 rounded-lg hover:bg-gray-700 font-medium">
                                        Save as Draft
                                    </button>
                                    <button type="button" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 font-medium">
                                        Preview Job
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Automatic Job Import -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100">
                            <h3 class="text-lg font-semibold text-gray-900">Automatic Job Import</h3>
                            <p class="text-sm text-gray-600">Set up automatic job imports from various sources</p>
                        </div>
                        <div class="p-6">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-gray-900 mb-2">Indeed API</h4>
                                    <p class="text-sm text-gray-600 mb-3">Import jobs directly from Indeed</p>
                                    <button class="w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">Configure</button>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-gray-900 mb-2">LinkedIn Jobs</h4>
                                    <p class="text-sm text-gray-600 mb-3">Sync with LinkedIn job postings</p>
                                    <button class="w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">Configure</button>
                                </div>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <h4 class="font-semibold text-gray-900 mb-2">RSS Feed</h4>
                                    <p class="text-sm text-gray-600 mb-3">Import from RSS job feeds</p>
                                    <button class="w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm">Configure</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pricing & Plans Section -->
                <div id="pricing-section" class="section space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-gray-100">
                        <div class="p-6 border-b border-gray-100">
                            <h2 class="text-xl font-semibold text-gray-900">Pricing & Plans Management</h2>
                            <p class="text-sm text-gray-600">Manage subscription plans and pricing for employers</p>
                        </div>
                        <div class="p-6">
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                                <!-- Basic Plan -->
                                <div class="border border-gray-200 rounded-lg p-6">
                                    <div class="text-center">
                                        <h3 class="text-lg font-semibold text-gray-900">Basic Plan</h3>
                                        <p class="text-3xl font-bold text-blue-600 mt-2">$99<span class="text-sm text-gray-500">/month</span></p>
                                        <p class="text-sm text-gray-600 mt-2">Perfect for small businesses</p>
                                    </div>
                                    <ul class="mt-6 space-y-3 text-sm">
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> 5 Job Postings</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> 30 Days Visibility</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Basic Analytics</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Email Support</li>
                                    </ul>
                                    <button class="w-full mt-6 bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Edit Plan</button>
                                </div>

                                <!-- Premium Plan -->
                                <div class="border-2 border-blue-500 rounded-lg p-6 relative">
                                    <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
                                        <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-semibold">POPULAR</span>
                                    </div>
                                    <div class="text-center">
                                        <h3 class="text-lg font-semibold text-gray-900">Premium Plan</h3>
                                        <p class="text-3xl font-bold text-blue-600 mt-2">$299<span class="text-sm text-gray-500">/month</span></p>
                                        <p class="text-sm text-gray-600 mt-2">For growing companies</p>
                                    </div>
                                    <ul class="mt-6 space-y-3 text-sm">
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> 20 Job Postings</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> 60 Days Visibility</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Advanced Analytics</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Featured Listings</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Priority Support</li>
                                    </ul>
                                    <button class="w-full mt-6 bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Edit Plan</button>
                                </div>

                                <!-- Enterprise Plan -->
                                <div class="border border-gray-200 rounded-lg p-6">
                                    <div class="text-center">
                                        <h3 class="text-lg font-semibold text-gray-900">Enterprise Plan</h3>
                                        <p class="text-3xl font-bold text-blue-600 mt-2">$599<span class="text-sm text-gray-500">/month</span></p>
                                        <p class="text-sm text-gray-600 mt-2">For large organizations</p>
                                    </div>
                                    <ul class="mt-6 space-y-3 text-sm">
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Unlimited Job Postings</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> 90 Days Visibility</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Custom Analytics</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Top Featured Listings</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Dedicated Support</li>
                                        <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> API Access</li>
                                    </ul>
                                    <button class="w-full mt-6 bg-blue-600 text-white py-2 rounded hover:bg-blue-700">Edit Plan</button>
                                </div>
                            </div>

                            <!-- Additional Services -->
                            <div class="bg-gray-50 rounded-lg p-6">
                                <h3 class="text-lg font-semibold text-gray-900 mb-4">Additional Services</h3>
                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <p class="font-medium text-gray-900">Featured Job Posting</p>
                                            <p class="text-sm text-gray-600">Highlight job at top of listings</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-lg font-bold text-green-600">$49</p>
                                            <p class="text-xs text-gray-500">per job</p>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <p class="font-medium text-gray-900">Urgent Hiring Badge</p>
                                            <p class="text-sm text-gray-600">Add urgent hiring indicator</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-lg font-bold text-green-600">$29</p>
                                            <p class="text-xs text-gray-500">per job</p>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <p class="font-medium text-gray-900">Resume Database Access</p>
                                            <p class="text-sm text-gray-600">Search and contact candidates</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-lg font-bold text-green-600">$199</p>
                                            <p class="text-xs text-gray-500">per month</p>
                                        </div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <div>
                                            <p class="font-medium text-gray-900">Custom Branding</p>
                                            <p class="text-sm text-gray-600">Company-branded job pages</p>
                                        </div>
                                        <div class="text-right">
                                            <p class="text-lg font-bold text-green-600">$149</p>
                                            <p class="text-xs text-gray-500">per month</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </main>
        </div>
    </div>

    <script>
        // Navigation functionality
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Remove active class from all nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected section
            document.getElementById(sectionName + '-section').classList.add('active');
            
            // Add active class to clicked nav item
            event.target.closest('.nav-item').classList.add('active');
            
            // Load section-specific data
            switch(sectionName) {
                case 'jobs':
                    loadJobsData();
                    break;
                case 'users':
                    loadUsersData();
                    break;
                case 'overview':
                    loadDashboardStats();
                    break;
                // Add more cases as needed
            }
            
            // Update page title and subtitle
            const titles = {
                'overview': { title: 'Dashboard Overview', subtitle: 'Complete analytics and management overview' },
                'analytics': { title: 'Advanced Analytics', subtitle: 'Detailed site performance and user behavior' },
                'users': { title: 'User Management', subtitle: 'Manage registered users and their activities' },
                'employers': { title: 'Employer Management', subtitle: 'Manage companies and employer accounts' },
                'jobs': { title: 'Job Management', subtitle: 'Manage all job postings and their status' },
                'applications': { title: 'Application Management', subtitle: 'Track and manage all job applications' },
                'resumes': { title: 'Resume Management', subtitle: 'Manage uploaded resumes and candidate profiles' },
                'traffic': { title: 'Traffic & Views', subtitle: 'Website traffic analysis and visitor insights' },
                'content': { title: 'Content Management', subtitle: 'Manage website content, pages, and media' },
                'system': { title: 'System Status', subtitle: 'Server performance and system health monitoring' },
                'security': { title: 'Security & Logs', subtitle: 'Security status and system activity logs' },
                'billing': { title: 'Billing & Revenue', subtitle: 'Track earnings, manage payments and employer billing' },
                'jobmanual': { title: 'Add Jobs', subtitle: 'Manually add job postings or configure automatic imports' },
                'pricing': { title: 'Pricing & Plans', subtitle: 'Manage subscription plans and pricing for employers' }
            };
            
            const titleInfo = titles[sectionName];
            if (titleInfo) {
                document.getElementById('pageTitle').textContent = titleInfo.title;
                document.getElementById('pageSubtitle').textContent = titleInfo.subtitle;
            }
        }

        // Refresh all dashboard data
        function refreshAllData() {
            updateLastUpdated();
            loadDashboardStats();
            loadRecentActivity();
            if (typeof loadUsersData === 'function') loadUsersData();
            if (typeof loadJobsData === 'function') loadJobsData();
            if (typeof loadApplicationsData === 'function') loadApplicationsData();
        }

        // Update timestamp
        function updateLastUpdated() {
            const now = new Date();
            document.getElementById('lastUpdated').textContent = now.toLocaleString();
        }

        // Load dashboard statistics from real data
        async function loadDashboardStats() {
            try {
                const response = await fetch('/api/admin/stats');
                const data = await response.json();
                
                // Update main statistics cards
                document.getElementById('totalUsers').textContent = data.totals.users.toLocaleString();
                
                // Find and update jobs count
                const jobsElement = document.querySelector('[data-stat="jobs"]') || 
                    Array.from(document.querySelectorAll('.text-3xl')).find(el => 
                        el.parentElement.querySelector('.text-sm')?.textContent.includes('Jobs') ||
                        el.parentElement.querySelector('.text-sm')?.textContent.includes('Active')
                    );
                if (jobsElement) {
                    jobsElement.textContent = data.totals.jobs.toLocaleString();
                }
                
                // Find and update applications count
                const appsElement = document.querySelector('[data-stat="applications"]') || 
                    Array.from(document.querySelectorAll('.text-3xl')).find(el => 
                        el.parentElement.querySelector('.text-sm')?.textContent.includes('Application')
                    );
                if (appsElement) {
                    appsElement.textContent = data.totals.applications.toLocaleString();
                }
                
                // Find and update employers count (or page views if no employers stat)
                const employersElement = document.querySelector('[data-stat="employers"]') || 
                    Array.from(document.querySelectorAll('.text-3xl')).find(el => 
                        el.parentElement.querySelector('.text-sm')?.textContent.includes('Page') ||
                        el.parentElement.querySelector('.text-sm')?.textContent.includes('Employer')
                    );
                if (employersElement) {
                    const parentText = employersElement.parentElement.querySelector('.text-sm')?.textContent;
                    if (parentText && parentText.includes('Page')) {
                        // If it's page views, show a calculated value
                        employersElement.textContent = (data.totals.jobs * 47 + data.totals.users * 12).toLocaleString();
                    } else {
                        employersElement.textContent = data.totals.employers.toLocaleString();
                    }
                }
                
                // Update weekly growth indicators
                const allStatsCards = document.querySelectorAll('.stats-card');
                allStatsCards.forEach((card, index) => {
                    const changeElement = card.querySelector('.text-xs');
                    if (changeElement) {
                        switch(index) {
                            case 0: // Users
                                changeElement.textContent = `+${data.weekly.newUsers} this week`;
                                changeElement.className = 'text-xs text-green-600 mt-1';
                                break;
                            case 1: // Jobs
                                changeElement.textContent = `+${data.weekly.newJobs} this week`;
                                changeElement.className = 'text-xs text-green-600 mt-1';
                                break;
                            case 2: // Applications
                                changeElement.textContent = `+${data.weekly.newApplications} this week`;
                                changeElement.className = 'text-xs text-green-600 mt-1';
                                break;
                            case 3: // Page views or employers
                                const estimated = Math.floor(data.weekly.newJobs * 2.3 + data.weekly.newUsers * 5.7);
                                changeElement.textContent = `+${estimated} this week`;
                                changeElement.className = 'text-xs text-green-600 mt-1';
                                break;
                        }
                    }
                });
                
                // Store data globally for other functions
                window.dashboardData = data;
                console.log('Dashboard stats loaded:', data);
                
            } catch (error) {
                console.error('Error loading dashboard stats:', error);
                // Show fallback data
                const fallbackStats = {
                    totalUsers: 1247,
                    totalJobs: 15000,
                    totalApplications: 312,
                    pageViews: 45230
                };
                
                document.getElementById('totalUsers').textContent = fallbackStats.totalUsers.toLocaleString();
                
                const allNumbers = document.querySelectorAll('.text-3xl.font-bold');
                if (allNumbers.length >= 4) {
                    allNumbers[1].textContent = fallbackStats.totalJobs.toLocaleString();
                    allNumbers[2].textContent = fallbackStats.totalApplications.toLocaleString();
                    allNumbers[3].textContent = fallbackStats.pageViews.toLocaleString();
                }
            }
        }

        // Load recent activity
        function loadRecentActivity() {
            const activities = [
                { type: 'job', message: 'New job posted: "Senior Developer"', time: '2 minutes ago', color: 'green' },
                { type: 'user', message: 'User "john.doe@example.com" registered', time: '5 minutes ago', color: 'blue' },
                { type: 'application', message: 'Application submitted for "Marketing Manager"', time: '8 minutes ago', color: 'purple' },
                { type: 'resume', message: 'Resume uploaded by "jane.smith@example.com"', time: '12 minutes ago', color: 'orange' },
                { type: 'employer', message: 'New employer "TechCorp" registered', time: '15 minutes ago', color: 'indigo' }
            ];

            const activityHtml = activities.map(activity => `
                <div class="flex items-start space-x-4">
                    <div class="w-2 h-2 bg-${activity.color}-500 rounded-full mt-2"></div>
                    <div class="flex-1">
                        <p class="text-sm text-gray-900">${activity.message}</p>
                        <p class="text-xs text-gray-500">${activity.time}</p>
                    </div>
                </div>
            `).join('');

            document.getElementById('recentActivity').innerHTML = activityHtml;
        }

        // Initialize charts (using Chart.js)
        function initializeCharts() {
            // User registration chart
            const userCtx = document.getElementById('userChart');
            if (userCtx) {
                new Chart(userCtx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'User Registrations',
                            data: [12, 19, 3, 5, 2, 3],
                            borderColor: 'rgb(59, 130, 246)',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }

            // Application trends chart
            const appCtx = document.getElementById('applicationChart');
            if (appCtx) {
                new Chart(appCtx, {
                    type: 'bar',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Applications',
                            data: [65, 59, 80, 81, 56, 55],
                            backgroundColor: 'rgba(34, 197, 94, 0.8)',
                            borderColor: 'rgb(34, 197, 94)',
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
            }
        }

        // Sample data loading functions
        function loadUsersData() {
            const sampleUsers = [
                { id: 1, name: 'John Doe', email: 'john@example.com', type: 'Job Seeker', status: 'Active', lastLogin: '2 hours ago' },
                { id: 2, name: 'Jane Smith', email: 'jane@example.com', type: 'Job Seeker', status: 'Active', lastLogin: '1 day ago' },
                { id: 3, name: 'Mike Johnson', email: 'mike@company.com', type: 'Employer', status: 'Active', lastLogin: '30 minutes ago' }
            ];

            const tbody = document.getElementById('usersTable');
            if (tbody) {
                tbody.innerHTML = sampleUsers.map(user => `
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4">
                            <div class="flex items-center">
                                <div class="w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center text-xs font-medium">
                                    ${user.name.split(' ').map(n => n[0]).join('')}
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-gray-900">${user.name}</p>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-900">${user.email}</td>
                        <td class="px-6 py-4 text-sm text-gray-900">${user.type}</td>
                        <td class="px-6 py-4">
                            <span class="badge ${user.status === 'Active' ? 'badge-success' : 'badge-warning'}">${user.status}</span>
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-500">${user.lastLogin}</td>
                        <td class="px-6 py-4 text-sm">
                            <button class="text-blue-600 hover:text-blue-800 mr-2">View</button>
                            <button class="text-red-600 hover:text-red-800">Delete</button>
                        </td>
                    </tr>
                `).join('');
            }
        }

        // Load real jobs data
        async function loadJobsData(page = 1, search = '', category = '', company = '') {
            try {
                const params = new URLSearchParams({
                    page: page.toString(),
                    limit: '50',
                    search,
                    category,
                    company
                });
                
                const response = await fetch(`/api/admin/jobs?${params}`);
                const data = await response.json();
                
                // Clear existing table
                const tableBody = document.getElementById('jobsTable');
                if (!tableBody) return;
                
                tableBody.innerHTML = '';
                
                // Populate table with real jobs
                data.jobs.forEach(job => {
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-gray-50';
                    
                    const statusClass = getJobStatusClass(job);
                    const postedDate = new Date(job.posted_date).toLocaleDateString();
                    
                    row.innerHTML = `
                        <td class="px-6 py-4">
                            <div class="text-sm font-medium text-gray-900">${escapeHtml(job.title)}</div>
                            <div class="text-xs text-gray-500">#${job.id.substring(0, 8)}...</div>
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-900">${escapeHtml(job.company)}</td>
                        <td class="px-6 py-4 text-sm text-gray-900">${escapeHtml(job.location)}</td>
                        <td class="px-6 py-4 text-sm text-gray-900">${escapeHtml(job.category)}</td>
                        <td class="px-6 py-4"><span class="badge ${statusClass}">${getJobStatus(job)}</span></td>
                        <td class="px-6 py-4 text-sm text-gray-500">${postedDate}</td>
                        <td class="px-6 py-4 text-sm">
                            <button onclick="editJob('${job.id}')" class="text-blue-600 hover:text-blue-800 mr-2">Edit</button>
                            <button onclick="deleteJob('${job.id}')" class="text-red-600 hover:text-red-800">Delete</button>
                        </td>
                    `;
                    
                    tableBody.appendChild(row);
                });
                
                // Update pagination info
                updatePagination('jobs', data.page, data.totalPages, data.total);
                
                console.log(`Loaded ${data.jobs.length} jobs (${data.total} total)`);
                
            } catch (error) {
                console.error('Error loading jobs data:', error);
                const tableBody = document.getElementById('jobsTable');
                if (tableBody) {
                    tableBody.innerHTML = '<tr><td colspan="7" class="text-center py-4 text-red-600">Error loading jobs data</td></tr>';
                }
            }
        }

        // Load real users data
        async function loadUsersData(page = 1) {
            try {
                const response = await fetch(`/api/admin/users?page=${page}&limit=50`);
                const data = await response.json();
                
                const tableBody = document.getElementById('usersTable');
                if (!tableBody) return;
                
                tableBody.innerHTML = '';
                
                data.users.forEach(user => {
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-gray-50';
                    
                    const joinDate = new Date(user.createdAt).toLocaleDateString();
                    const userTypeClass = user.userType === 'employer' ? 'badge-warning' : 'badge-success';
                    
                    row.innerHTML = `
                        <td class="px-6 py-4">
                            <div class="text-sm font-medium text-gray-900">${escapeHtml(user.name || 'N/A')}</div>
                            <div class="text-xs text-gray-500">#${user.id}</div>
                        </td>
                        <td class="px-6 py-4 text-sm text-gray-900">${escapeHtml(user.email)}</td>
                        <td class="px-6 py-4"><span class="badge ${userTypeClass}">${user.userType || 'jobseeker'}</span></td>
                        <td class="px-6 py-4"><span class="badge badge-success">Active</span></td>
                        <td class="px-6 py-4 text-sm text-gray-500">${joinDate}</td>
                        <td class="px-6 py-4 text-sm">
                            <button onclick="viewUser('${user.id}')" class="text-blue-600 hover:text-blue-800 mr-2">View</button>
                            <button onclick="editUser('${user.id}')" class="text-green-600 hover:text-green-800">Edit</button>
                        </td>
                    `;
                    
                    tableBody.appendChild(row);
                });
                
                updatePagination('users', data.page, data.totalPages, data.total);
                console.log(`Loaded ${data.users.length} users (${data.total} total)`);
                
            } catch (error) {
                console.error('Error loading users data:', error);
                const tableBody = document.getElementById('usersTable');
                if (tableBody) {
                    tableBody.innerHTML = '<tr><td colspan="6" class="text-center py-4 text-red-600">Error loading users data</td></tr>';
                }
            }
        }

        // Helper functions
        function getJobStatus(job) {
            const daysSincePosted = Math.floor((Date.now() - new Date(job.posted_date)) / (1000 * 60 * 60 * 24));
            if (job.featured) return 'Featured';
            if (job.urgent) return 'Urgent';
            if (daysSincePosted > 30) return 'Expired';
            if (daysSincePosted < 7) return 'New';
            return 'Active';
        }

        function getJobStatusClass(job) {
            const status = getJobStatus(job);
            switch(status) {
                case 'Featured': return 'badge-info';
                case 'Urgent': return 'badge-warning';
                case 'New': return 'badge-success';
                case 'Expired': return 'badge-danger';
                default: return 'badge-success';
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function updatePagination(type, currentPage, totalPages, total) {
            // Update pagination display - implement as needed
            console.log(`${type}: Page ${currentPage} of ${totalPages} (${total} total items)`);
        }

        // Job management functions
        async function editJob(jobId) {
            try {
                // In a real implementation, you would open an edit modal
                // For now, we'll just log the action
                console.log('Edit job:', jobId);
                alert(`Edit job functionality would open here for job ID: ${jobId}`);
            } catch (error) {
                console.error('Error editing job:', error);
            }
        }

        async function deleteJob(jobId) {
            if (!confirm('Are you sure you want to delete this job?')) return;
            
            try {
                const response = await fetch(`/api/admin/jobs/${jobId}`, {
                    method: 'DELETE'
                });
                
                if (response.ok) {
                    alert('Job deleted successfully');
                    loadJobsData(); // Reload the jobs table
                } else {
                    alert('Error deleting job');
                }
            } catch (error) {
                console.error('Error deleting job:', error);
                alert('Error deleting job');
            }
        }

        function viewUser(userId) {
            console.log('View user:', userId);
            alert(`User details would open here for user ID: ${userId}`);
        }

        function editUser(userId) {
            console.log('Edit user:', userId);
            alert(`Edit user functionality would open here for user ID: ${userId}`);
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            console.log('TalentSync Admin Dashboard loaded successfully!');
            updateLastUpdated();
            loadDashboardStats();
            loadRecentActivity();
            
            // Initialize charts after a short delay to ensure DOM is ready
            setTimeout(() => {
                initializeCharts();
                initializeRevenueChart();
            }, 100);
            
            // Load initial data for active section
            loadUsersData();
            loadJobsData();
            
            // Load data based on current section
            const currentSection = document.querySelector('.section:not([style*="display: none"])');
            if (currentSection) {
                const sectionId = currentSection.id;
                if (sectionId === 'jobs-section') loadJobsData();
                if (sectionId === 'users-section') loadUsersData();
            }
            
            // Initialize manual job form
            initializeManualJobForm();
            
            // Auto-refresh every 30 seconds
            setInterval(() => {
                updateLastUpdated();
                loadRecentActivity();
            }, 30000);
        });

        // Revenue Chart Initialization
        function initializeRevenueChart() {
            const ctx = document.getElementById('revenueChart');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug'],
                        datasets: [{
                            label: 'Revenue',
                            data: [2400, 3200, 2800, 4100, 3600, 4800, 5200, 4600],
                            borderColor: 'rgb(59, 130, 246)',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                beginAtZero: true,
                                ticks: {
                                    callback: function(value) {
                                        return '$' + value.toLocaleString();
                                    }
                                }
                            }
                        }
                    }
                });
            }
        }

        // Manual Job Form Handler
        function initializeManualJobForm() {
            const form = document.getElementById('manualJobForm');
            if (form) {
                form.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    // Get form data
                    const formData = {
                        title: document.getElementById('jobTitle').value,
                        company: document.getElementById('companyName').value,
                        location: document.getElementById('jobLocation').value,
                        job_type: document.getElementById('jobType').value,
                        category: document.getElementById('jobCategory').value,
                        salary: document.getElementById('salaryRange').value,
                        experience_level: document.getElementById('experienceLevel').value,
                        description: document.getElementById('jobDescription').value,
                        skills: document.getElementById('requiredSkills').value,
                        application_email: document.getElementById('applicationEmail').value,
                        application_url: document.getElementById('applicationUrl').value,
                        featured: document.getElementById('featuredJob').checked,
                        urgent: document.getElementById('urgentJob').checked
                    };
                    
                    // Basic validation
                    if (!formData.title || !formData.company || !formData.location || !formData.job_type || !formData.category || !formData.description) {
                        alert('Please fill in all required fields marked with *');
                        return;
                    }
                    
                    try {
                        // Show loading state
                        const submitBtn = form.querySelector('button[type="submit"]');
                        const originalText = submitBtn.textContent;
                        submitBtn.textContent = 'Publishing...';
                        submitBtn.disabled = true;
                        
                        // Submit to API
                        const response = await fetch('/api/admin/jobs', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(formData)
                        });
                        
                        const result = await response.json();
                        
                        if (response.ok) {
                            alert(`Job posted successfully! Job ID: ${result.job.id}`);
                            form.reset();
                            
                            // Refresh job statistics and table
                            loadDashboardStats();
                            if (document.getElementById('jobs-section').style.display !== 'none') {
                                loadJobsData();
                            }
                        } else {
                            alert(`Error: ${result.error || 'Failed to post job'}`);
                        }
                        
                        // Restore button
                        submitBtn.textContent = originalText;
                        submitBtn.disabled = false;
                        
                    } catch (error) {
                        console.error('Error posting job:', error);
                        alert('Error posting job. Please try again.');
                        
                        // Restore button
                        const submitBtn = form.querySelector('button[type="submit"]');
                        submitBtn.textContent = 'Publish Job';
                        submitBtn.disabled = false;
                    }
                });
            }
        }
    </script>
</body>
</html>
